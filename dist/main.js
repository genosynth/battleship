(()=>{var e={171:e=>{const t=document.getElementsByClassName("container");e.exports=function(e){if(1==e){t[0].innerText="";for(let e=0;e<100;e++)div=document.createElement("div"),div.classList.add("grid-item"),t[0].appendChild(div)}if(2==e){let e=document.getElementsByClassName("container-game");e[1].innerText="";for(let t=0;t<100;t++)div=document.createElement("div"),div.classList.add("grid-item"),e[1].appendChild(div)}}},872:e=>{const t=document.getElementsByTagName("main")[0];e.exports={updateCSS:function(){let e=document.createElement("div");e.classList.toggle("container-game"),t.appendChild(e),t.classList.toggle("forMainClass"),document.getElementsByClassName("container")[0].classList.remove("container"),document.getElementsByTagName("div")[0].classList.add("container-game"),document.getElementById("axis").style.display="none"},updateP1BoxesCSS:function(){for(let e=0;e<100;e++)document.getElementsByClassName("grid-item")[e].classList.add("grid-item-p1");for(let e=0;e<100;e++)document.getElementsByClassName("grid-item-p1")[e].classList.remove("grid-item")}}},13:e=>{e.exports=class{constructor(e,t){this.player=e,this.ships=[],this.positionsOfShips=[],this.missedShots=[],this.allHits=[]}assignPositions(){this.ships.forEach((e=>{e.positions.forEach((e=>{this.positionsOfShips.push(e)}))}))}recieveAttack(e){let t=!1;this.positionsOfShips.forEach((s=>{e==s&&this.ships.forEach((e=>{e.positions.forEach((o=>{o==s&&(t=!0,e.hits.includes(s)||(e.hit(s),this.allHits.push(s)))}))}))})),0==t&&(this.missedShots.includes(e)||this.missedShots.push(e))}checkForAllShipsSunk(){let e=[];if(this.ships.forEach((t=>{e.push(t.isSunk())})),!e.includes(!1))return!0}}},926:(e,t,s)=>{s(13),e.exports=class{constructor(e,t){this.name=e,this.gameBoard=t}fireShot(e,t){t.recieveAttack(e)}}},113:e=>{e.exports=class{constructor(e,t,s){this.name=e,this.length=t,this.positions=s,this.hits=[]}hit(e){this.hits.push(e)}isSunk(){return this.hits.length===this.length}}}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}(()=>{const e=s(113),t=s(926),o=s(13),a=s(171),i=s(872);var r=document.querySelectorAll("div");let n=5;var l="Z";shipNamesArray=["Patrol Boat","Cruiser","Submarine","Battleship","Carrier"];let d=new t("Jean"),c=new o("player1");var h;d.gameBoard=c;var m=[];function g(e,t){if(B(),!(e+t>101)){if("Z"==l)for(let s=0;s<t;s++)r[e+s].style.backgroundColor="rgb(49, 46, 46)";if("Y"==l)for(let s=0;s<10*t;s+=10)r[e+s].style.backgroundColor="rgb(49, 46, 46)"}}function u(e,t){if(B(),"Z"==l)for(let s=0;s<t;s++)r[e+s].style.backgroundColor="aqua";if("Y"==l)for(let s=0;s<10*t;s+=10)r[e+s].style.backgroundColor="aqua"}function p(){if(1==d.gameBoard.checkForAllShipsSunk())return f();for(let e=0;e<100;e++)document.getElementsByClassName("grid-item")[e].addEventListener("click",(function(){d.fireShot(e+1,h.gameBoard),console.log(h),f()}))}function f(){a(2);let e=document.getElementsByClassName("grid-item");for(let t=0;t<e.length+1;t++)h.gameBoard.ships.forEach((s=>{s.hits.forEach((s=>{s==t&&(e[t-1].style.backgroundColor="red")}))})),h.gameBoard.missedShots.forEach((s=>{s==t&&(e[t-1].style.backgroundColor="rgb(11, 146, 146)")}));if(h.gameBoard.checkForAllShipsSunk())return document.getElementsByClassName("container-game")[1].classList.add("container-game-destroy"),document.getElementsByClassName("container-game")[1].classList.remove("container-game"),document.getElementById("console").innerText="You Win!";if(d.gameBoard.checkForAllShipsSunk())return document.getElementsByClassName("container-game")[0].classList.add("container-game-destroy"),document.getElementsByClassName("container-game")[0].classList.remove("container-game"),document.getElementById("console").innerText="You Loose!";let t=d.gameBoard.allHits;return t.length>m.length?(v(t[t.length-1]),p()):t.length==m.length?(v(),p()):void 0}function B(){let e=document.querySelectorAll("div");for(let t=1;t<=100;t++)for(let s=0;s<d.gameBoard.ships.length;s++)d.gameBoard.ships[s].positions.forEach((s=>{t==s&&(e[t].style.backgroundColor="rgb(49, 46, 46)")}))}function y(){h=new t("CPU");let s=new o("player2");h.gameBoard=s;for(let t=4;t>-1;t--){let s=!1,o=E(t+1),a=new e(shipNamesArray[t],t+1,o);for(let e=0;e<h.gameBoard.ships.length;e++)h.gameBoard.ships[e].positions.forEach((e=>{if(o.includes(e))return console.log(o),void(s=!0)}));1==s&&(t+=1),0==s&&h.gameBoard.ships.push(a)}return h.gameBoard.assignPositions(),console.log(h)}function E(e){let t=Math.floor(2*Math.random()),s=[];if(0==t){let t=Math.floor(Math.random()*(100-e))+1;for(let o=0;o<e;o++)s.push(t+o)}if(1==t){let t=Math.floor(Math.random()*(100-10*e))+1;for(let o=0;o<10*e;o+=10)s.push(t+o)}return s}function v(e){let t=Number;for(t=Math.floor(100*Math.random())+1;d.gameBoard.missedShots.includes(t)||d.gameBoard.ships[0].hits.includes(t)||d.gameBoard.ships[1].hits.includes(t)||d.gameBoard.ships[2].hits.includes(t)||d.gameBoard.ships[3].hits.includes(t)||d.gameBoard.ships[4].hits.includes(t);)t=Math.floor(100*Math.random())+1;let s=[1,-1][Math.floor(2*Math.random())];null!=e&&0==d.gameBoard.allHits.includes(e+s)&&0==d.gameBoard.missedShots.includes(e+s)&&(t=e+s),m=d.gameBoard.allHits.slice(),h.fireShot(t,d.gameBoard),console.log(d);let o=document.getElementsByClassName("grid-item-p1");for(let e=1;e<o.length+1;e++)d.gameBoard.ships.forEach((t=>{t.hits.forEach((t=>{t==e&&(o[e-1].style.backgroundColor="red")}))})),d.gameBoard.missedShots.forEach((t=>{t==e&&(o[e-1].style.backgroundColor="rgb(11, 146, 146)")}))}document.getElementById("axis").addEventListener("click",(function(){return"Z"==l?(B(),l="Y"):"Y"==l?(B(),l="Z"):void 0})),a(1),displayMessage=e=>{document.getElementById("console").textContent=e},displayMessage("Place Your "+shipNamesArray[n-1]),function t(s,o){if(0!=n){r=document.querySelectorAll("div");for(let e=1;e<=100;e++)r[e].addEventListener("mouseover",g.bind(this,e,o)),r[e].addEventListener("mouseout",u.bind(this,e,o));for(let h=1;h<100;h++)r[h].addEventListener("click",(function(){let m=[];if("Z"==l)for(let e=0;e<o;e++)m.push(h+e);if("Y"==l)for(let e=0;e<10*o;e+=10)m.push(h+e);for(let e=0;e<o;e++)if(m[e]>100)return console.log("Cannot place ship here");let g=new e(s,o,m);if(d.gameBoard.ships.length>0)for(let e=0;e<d.gameBoard.ships.length;e++)for(let s=0;s<d.gameBoard.ships[e].positions.length;s++)for(let o=0;o<m.length;o++)if(m[o]==c.ships[e].positions[s])return a(1),B(),displayMessage("Place Your "+shipNamesArray[n-1]),t(shipNamesArray[n-1],n),console.log("cannot put ship here");d.gameBoard.ships.push(g),r.forEach((e=>{})),a(1),B(),n--,displayMessage("Place Your "+shipNamesArray[n-1]),t(shipNamesArray[n-1],n),0==n&&(displayMessage("Attack!"),d.gameBoard.assignPositions(),i.updateCSS(),a(2),i.updateP1BoxesCSS(),console.log(y()),p()),console.log(d)}))}}(shipNamesArray[n-1],n)})()})();